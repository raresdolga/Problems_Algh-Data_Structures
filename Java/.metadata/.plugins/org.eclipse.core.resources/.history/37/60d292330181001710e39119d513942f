package ex2_ch7;

import java.util.ArrayList;

public class OperatingCentral {
	private ArrayList<Call> calls;
	private ArrayList<Employee> empls;
	private ArrayList<Respondent> res;
	public OperatingCentral() {
		calls = new ArrayList<Call>();
		empls = new ArrayList<>();
	}
	
	public Employee getFreeEmp(String type){
		for (Employee emp :empls)
			if(emp.rank.equals(type)) {
				if(emp.getFree())
					return emp;
			}
		return null;
	}
	
	public Employee getFree(){
		for(Respondent r : res)
			if(r.getFree())
				return r;
		return null;
	}
	
	public void handleCall(Call c){
		Employee r = getFree();
		r.respondCall(c);
		if(c.rankOfSolver != "respondent"){
			Employee emp = getFreeEmp(c.rankOfSolver);
			r.endCall();
			if(emp == null)
				calls.add(c);
			else {
				emp.respondCall(c);
			}
		}
		
			
	}
	public static void main (String args[]){
		
	}
	
}
